
<div class="card" style="width: 20rem;">
<% @all_users_listings = Listing.all.paginate(page: params[:page], per_page: 5).order("created_at DESC") %>

  <!-- <%= will_paginate @all_users_listings %> -->

  <% @all_users_listings.each do |listing| %>

    <div id="myCarousel" class="carousel slide" data-ride="carousel">

        <div class='carousel-inner'>

        <% if listing.images != nil %>
          <% listing.images.each_with_index do |thumb, index| %>

              <div class="item <%= "active" if thumb == listing.images.first %>">
              <img src="<%= thumb.url %>" alt="">
              </div>
          <% end %>

        <% else %>

            <div class="item active"><%= image_tag("https://elym-airbnbclone.s3.amazonaws.com/uploads/error/no_image.jpeg") %></div>

        <% end %>

    </div>

    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>

    <div class="card-block">
      <h4 class="card-title"><%= "RM" + listing.price_per_night.to_s + " " + listing.location %> </h4>
      <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->
      <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
    </div>

<% end %>

<%= will_paginate @all_users_listings %>
</div>
