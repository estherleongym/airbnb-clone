<div class="card-deck">

<% @all_users_listings = Listing.all.paginate(page: params[:page], per_page: 6).order("created_at DESC") %>

  <% @all_users_listings.each do |listing| %>

      <div class="card" style="width: 20rem;">

        <% if !(listing.images.empty?) %>
        <div id="myCarousel<%= listing.id %>" class="carousel slide" data-interval="false">

            <div class='carousel-inner'>

          <% listing.images.each_with_index do |thumb, index| %>

              <div class="item <%= "active card-img-top" if thumb == listing.images.first %>">
              <img src="<%= thumb.url %>" alt="">
            </div>

        <% end %>

        <a class="left carousel-control" href="#myCarousel<%= listing.id %>" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel<%= listing.id %>" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right"></span>
          <span class="sr-only">Next</span>
        </a>
          </div>
        </div>

        <% else %>

        <!-- <div class="card" style="width: 20rem;"> -->
          <img class="card-img-top" src="https://s3-ap-southeast-1.amazonaws.com/elym-airbnbclone/uploads/error/no_image.jpeg" style="width:20rem;" alt="Card image cap">
          <!-- <div class="card-body">
              <h4 class="card-title"><%= "RM" + listing.price_per_night.to_s + " " + listing.location %> </h4>
          </div> -->
        <!-- </div> -->

        <% end %>


        <div class="card-body">
            <h4 class="card-title"><%= "RM" + listing.price_per_night.to_s + " " + listing.location %> </h4>
        </div>
      </div>

<% end %>


</div>
